<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>最新动态</title>
<link href="css/bootstrap.min.css" rel="stylesheet" />
<link href="css/bootstrap.css" rel="stylesheet" />
<link href="css/style.css" rel="stylesheet" />
<!-- 以下两个插件用于在IE8以及以下版本浏览器支持HTML5元素和媒体查询，如果不需要用可以移除 -->
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<link href="css/style.css" rel="stylesheet" />
</head>
<body>	
	<section id="news_section">
	    <img src="images/cute.png" style="width:56px;height: 56px;position: absolute;" id="cute"/>
		<header id="news_header">
			<h1 style="position: relative;height: 68px;"><img src="images/section1.png" /></h1>			
		</header>

		<ul>
			<li>
				<ul>
					<li id="left_1"><img src="images/flap.png" /></li>
					<li id="middle_1">最新新闻1</li>
					<li id="right_1"><time datetime="2017-4-15" pubdate>2017-4-15</time></li>
				</ul>
			</li>
			<li>
				<ul>
					<li id="left_2"><img src="images/flap.png" /></li>
					<li id="middle_2">最新新闻2</li>
					<li id="right_2"><time datetime="2017-4-15" pubdate>2017-4-15</time></li>
				</ul>
			</li>
		</ul>
	</section>
	
	<script type="text/javascript" src="js/jquery-2.2.3.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript">
		$(function(){
			var i = parseInt(Math.random() * (6-1) + 1);
			src = "url(images/bottom" + i + ".png)"; 
			$("li[id^=middle]").css('background-image', src);

/*
		var callback = function(records) {
    		records.map(function(record) {
        		var img = record.target;
        		var tract = document.getElementById('news_header');
        		var left = img.css('left');
        		tract.css('width', left+200);
        		tract.css('border-bottom', '1px solid gray');
    		});
		};
		var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
            if(!!MutationObserver){
            	var obs = new MutationObserver(callback);
            	var obj = document.getElementById('cute');
             	obs.observe(obj, {'attributes': true, 'attributesFilter': ['left']});
            }else{
            	alert("浏览器不支持MutationObserver！");
            }
 */	        
 		var obj = document.getElementById('cute');
		obj.addEventListener('webkitAnimationStart', function(){
 			var tract = $('#news_header');
        	var left = $(this).css('left');
        	tract.css('width', left+200);
        	tract.css('border-bottom', '1px solid pink');
 		})   
 		obj.addEventListener('webkitAnimationIteration', function(){
 			var tract = $('#news_header');
        	tract.css('border-bottom', '1px solid green');
 		})  
 		obj.addEventListener('webkitAnimationEnd', function(){
 			var tract = $('#news_header');
        	tract.css('border-bottom', '1px solid orange');
 		})   
		})
		
 	

 		

	</script>
</body>
</html>